<p id="notice"><%= notice %></p>

<% provide(:title, @channel.name) %>
<h1><%= @channel.name %></h1>

<p>
  <%= @channel.description %>
</p>

<%= link_to 'Edit', edit_channel_path(@channel) %> |
<%= link_to 'Back', channels_path %>

<p>
  <strong>Api key:</strong>
  <%= @channel.api_key %>
</p>

<p>
  <strong>User:</strong>
  <%= @channel.user.name %>
</p>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Date</th>
      <% @channel.enabled_field_numbers.each do |num| %>
        <th><%= @channel["field#{num}_name"] %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @channel.sensor_values.each do |val| %>
      <tr>
        <td><%= val.timestamp %></td>
        <% @channel.enabled_field_numbers.each do |num| %>
          <td><%= val["value#{num}"] %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'New Sensor value', new_sensor_value_path(channel_id: @channel) %>
